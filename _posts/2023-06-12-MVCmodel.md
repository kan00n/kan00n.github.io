---
title: MVC model
author: kan00n
date: 2023-06-12 00:00:00 +0900
categories: [java]
tags: [java]
math: true
mermaid: true
# image:
#   path: /commons/devices-mockup.png
#   width: 800
#   height: 500
#   alt: Responsive rendering of Chirpy theme on multiple devices.


---

# MVC MODEL

------

実際、これから書くものはChatGPTに聞けば解決しそうではあるけど、一応。。。

## MVC MODEL ってなんやねん（さらっと）

MVCとは、model view controllerの英単語の頭文字を取ったもの。

MVCでは、アプリケーションにおける機能やデータの保存、その他のロジックなどを、model・view・controllerの3つに分けて考える。（その方が機能を考えるときにくそ楽）

- MODEL
  - アプリケーションの主たる処理やデータの格納などを行う、いわゆる**データの保存と計算**を担当。
  - JavaBeans
- VIEW
  - viewはユーザーに対して**画面の表示**を行う、Webページ的なものを担当。
  - JSP
- CONTROLLER
  - ユーザーからの要求を受け取り、処理の実行をMODELに依頼し、その結果の表示をビューに依頼する**データの流れをコントロール**。
  - 　サーブレット

------

## → MODELの作り方って何？

実際の状況では、ユーザからの入力は複数あるよね（ユーザー名・パスワード・生年月日・住所など）

だからって、それぞれ別々に管理すると**面倒**だから**まとめて管理したい**よね!!(変数名がややこしくなったり、変数の数が増えたりする)

こんな感じで**太郎さんのパスワード**って紐づけると管理しやすそうじゃないですか？

これが所謂**Beans**って呼ばれるものです!!

## →VIEW

Viewのイメージとしてはお客様に見せるページのこと。

じゃあ、単に**HTMLで書けばいい**ってしたいところだけど、ユーザーのページとかでは○○様とか個人の情報が書かれていることが多いよね...なら、ことは**ユーザーごとにHTMLを書き直す**？

それは、**手間だし**、**時間取るし**、**ファイルの数も多くなる**しで**大変**だよね。

なら、**必要な部分だけ毎回Javaに書いてもらおう**ってなったのがJSPで、実際HTMLの要素がJavaより多いよねっていうのはそういう背景があるからだと思う。

## → CONTROLLER

今まで見てきたものはJavaのデータを取り扱う部分と見せる部分だったから、これを扱うものが必要だよね!! ってことでCONTROLLERの登場です。

イメージ的にはCONTROLLERは上司で、お客さんからもらった仕事を、部下のMODELとVIEWに仕事の一部をよろしく!!って任せたり・結果をどうだった？って聞くって感じのことをしている。

例えば、

1. お客さんからCONTROLLERさんに「私、○○の残高っていくらでしたっけ？」って聞かれる。
2. CONTROLLERさんはMODEL君に「○○さんの残高っていくら？」って聞く。
3. MODEL君は「××円でした!!」と報告する。
4. CONTROLLERさんは部下のVIEW君に「MODEL君に聞きながら○○さんの残高を○○さんに返してくれる？」って頼むこと。
5. VIEW君はMODEL君に「○○さんの残高はいくら？」って聞く。
6. MODEL君はVIEW君へ「○○さんの残高は××だよ」ってかえす。
7. VIEW君はお客さんに「○○さんの残高は××でした」って報告する。


こんな感じ、実際のとは少し違うけど教科書のものにアレンジするとこんな感じになる。

んで、ここまでくるとあれ、全く出てこなかった**BeanDAO**ってなんやねんってなるけど、それは今から説明する。

MODELで説明したデータって１人１つかもしれないけど、よくよく考えたら、カードとかって数千万人ぐらい(実際どれぐらいかは知らん)が利用するから個人個人のBeansを作って持っておくのは非効率すぎる。。。

だったら**DB**（データベース）**に格納して必要があれば取り出して**使えば解決しそう！！

```marmaid
flowchart TD
    A[Servlet] -->B[BeansDTO] 
    B --> C[BeansDAO] 
    C--> D[Mysql]
    D --> B
    B-->A
```


